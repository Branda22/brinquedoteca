{"changed":true,"filter":false,"title":"user.rb","tooltip":"/app/models/user.rb","value":"class User < ActiveRecord::Base\n    before_save { self.email = email.downcase }\n    #after_save :user_notification\n    \n    has_many :toys\n    validates :name, presence: true, length: { minimum: 3 }\n    VALID_EMAIL_REGEX = /\\A[\\w+\\-.]+@[a-z\\d\\-.]+\\.[a-z]+\\z/i\n    validates :email, presence: true, uniqueness: { case_sensitive: false }, \n                                      format: { with: VALID_EMAIL_REGEX },\n                                      length: { maximum: 255 }\n    has_secure_password\n    validates :password, length: { minimum: 6 }\n    \n    private\n    \n        def user_notification\n            BrinquedoMailer.greeting(self).deliver\n        end\nend\n","undoManager":{"mark":-1,"position":1,"stack":[[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"remove","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["#"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":5},"end":{"row":2,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1418408084828}